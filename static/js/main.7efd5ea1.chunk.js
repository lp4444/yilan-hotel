(this.webpackJsonpyilanhotel=this.webpackJsonpyilanhotel||[]).push([[0],{32:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(21),i=n.n(s),r=(n(32),n(5)),o=n(26),l=n(3),u=n(17),j=n.n(u),d=n(22),b=function(e){var t=Math.ceil(e.length/24);return Array.from({length:t},(function(t,n){var a=24*n;return e.slice(a,a+24)}))},h=n(23),O=[{id:1,url:"/",text:"Home"},{id:2,url:"/about",text:"About"}],f=n(2),x=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(null),i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=i.current.getBoundingClientRect().height;s.current.style.height=n?"".concat(e,"px"):"0px"}),[n]),Object(f.jsx)("nav",{children:Object(f.jsxs)("div",{className:"nav-center",children:[Object(f.jsxs)("div",{className:"nav-header",children:[Object(f.jsx)("div",{children:"we"}),Object(f.jsx)("button",{className:"nav-toggle",onClick:function(){c(!n)},children:Object(f.jsx)(h.a,{})})]}),Object(f.jsx)("div",{className:"links-container",ref:s,children:Object(f.jsx)("ul",{className:"links",ref:i,children:O.map((function(e){var t=e.id,n=e.url,a=e.text;return Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:n,children:a})},t)}))})})]})})},m=n(20),g=n(11),p=n(8),v=[{id:1,text:"\u5b9c\u862d\u5e02",name:"yilan"},{id:2,text:"\u7f85\u6771\u93ae",name:"lotong"},{id:3,text:"\u8607\u6fb3\u93ae",name:"suao"},{id:4,text:"\u982d\u57ce\u93ae",name:"toucheng"},{id:5,text:"\u7901\u6eaa\u9109",name:"jiaosi"},{id:6,text:"\u58ef\u570d\u9109",name:"jhuangwei"},{id:7,text:"\u54e1\u5c71\u9109",name:"yuanshan"},{id:8,text:"\u51ac\u5c71\u9109",name:"dongshan"},{id:9,text:"\u4e94\u7d50\u9109",name:"wujie"},{id:10,text:"\u4e09\u661f\u9109",name:"sanshing"},{id:11,text:"\u5927\u540c\u9109",name:"datong"},{id:12,text:"\u5357\u6fb3\u9109",name:"nanao"}],y=[{id:1,text:"\u6c11\u5bbf",name:"bnb"},{id:2,text:"\u4e00\u822c\u65c5\u9928",name:"hotel"},{id:3,text:"\u570b\u969b\u89c0\u5149\u65c5\u9928",name:"villa"}],N=(n.p,function(e){var t=e.options,n=e.setOptions,c=e.trueOptions,s=e.setTrueOptions,i=e.InitialTrueOptions,o=(e.data,e.pageData,e.setPageData,e.hotels,e.setHotels,e.filteredHotels,e.setFilteredHotels,e.page,e.setPage,Object(a.useState)({districtState:!1,classState:!0})),l=Object(r.a)(o,2),u=l[0],j=l[1];console.log("mode",u.districtState);var d=function(){for(var e=Object.keys(u),t=function(){var e=a[n];j((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(g.a)({},e,!t[e]))}))},n=0,a=e;n<a.length;n++)t()},b=function(e,a){var c=e.target.dataset.name;n((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(g.a)({},a,Object(p.a)(Object(p.a)({},e[a]),{},Object(g.a)({},c,!e[a][c]))))})),console.log("name",c),console.log("uniclick",t)};return Object(f.jsx)("div",{className:"search-form",children:Object(f.jsxs)("div",{className:"search-container",children:[Object(f.jsxs)("div",{className:"btn-container",children:[Object(f.jsx)("button",{type:"button",className:"btn-mode ".concat(u.districtState?"btn-mode-active":null),"data-name":"districtState",onClick:d,children:"\u884c\u653f\u5340"}),Object(f.jsx)("button",{type:"button",className:"btn-mode ".concat(u.classState?"btn-mode-active":null),"data-name":"classState",onClick:d,children:"\u4f4f\u5bbf\u985e\u578b"})]}),u.districtState&&Object(f.jsx)("div",{className:"btn-container",children:v.map((function(e,n){var a=e.id,c=e.text,s=(e.name,Object.keys(t.Address));return Object(f.jsx)("button",{type:"button",className:"btn ".concat(t.Address[s[n]]?"active-btn":null),"data-name":c,onClick:function(e){return b(e,"Address")},children:c},a)}))}),u.classState&&Object(f.jsx)("div",{className:"btn-container",children:y.map((function(e,n){var a=e.id,c=e.text,s=(e.name,Object.keys(t.Class));return Object(f.jsx)("button",{type:"button",className:"btn ".concat(t.Class[s[n]]?"active-btn":null),"data-name":c,onClick:function(e){return b(e,"Class")},children:c},a)}))}),Object(f.jsx)("div",{className:"btn-container",children:Object(f.jsx)("button",{className:"btn",style:{},onClick:function(e){return function(e){console.log("handleSearch",t),s(i);var n=t.Address,a=t.Class,r=function(e){n[e]&&s((function(t){return Object(p.a)(Object(p.a)({},t),{},{Address:[].concat(Object(m.a)(t.Address),[e])})}))};for(var o in n)r(o);var l=function(e){a[e]&&s((function(t){return Object(p.a)(Object(p.a)({},t),{},{Class:[].concat(Object(m.a)(t.Class),[e])})}))};for(var u in a)l(u);console.log("trueOptions",c)}()},children:"\u641c\u5c0b\u5730\u9ede"})})]})})}),C=n.p+"static/media/yilantravel.99554afe.jpg",S=n(24),k=n(25),P=function(e){var t=e.ID,n=e.Name,a=e.Description,c=e.Address,s=e.Phone,i=e.WebsiteUrl,r=e.Picture,o=(e.Position,e.ParkingInfo);if(r)return Object(f.jsxs)("article",{className:"hotel-container",children:[Object(f.jsx)("img",{src:r.PictureUrl1||C,alt:n,className:"img-container"}),Object(f.jsxs)("div",{className:"hotel-footer",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("h4",{children:n}),Object(f.jsxs)("h4",{children:[Object(f.jsx)(S.a,{}),":",s]})]}),Object(f.jsxs)("h4",{children:[Object(f.jsx)(k.a,{}),":",c]}),Object(f.jsxs)("h4",{style:{color:"hsl(325, 62%, 57%)"},children:["".concat(a).substring(0,40),"..."]}),Object(f.jsx)("h4",{children:o}),Object(f.jsx)("h4",{style:{color:"hsl(360, 71%, 66%)"},children:Object(f.jsx)("a",{href:i,children:"\u5b98\u65b9\u7db2\u7ad9"})})]})]},t)},D=function(e){var t=e.filteredHotels,n=e.hotels;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h3",{style:{color:"hsl(125, 67%, 44%)"},children:["\u5171\u6709",n?n.length:0,"\u500b\u5730\u9ede"]}),Object(f.jsx)("div",{className:"list-container",children:t&&t.map((function(e){return Object(f.jsx)(P,Object(p.a)({},e))}))})]})},A=function(e,t){var n=Object.keys(t);return e.filter((function(e){return n.every((function(n){return!t[n].length||(Array.isArray(e[n])?e[n].some((function(e){return t[n].includes(e)})):t[n].some((function(t){return e[n].includes(t)})))}))}))},H=function(e){e.loading;var t=e.pageData,n=e.setPage,a=e.page,c=[0,1,a-3,a-2,a-1,a,a+1,a+2,a+3],s=[a-3,a+3];return Object(f.jsxs)("div",{className:"btn-container",children:[Object(f.jsx)("button",{type:"button",className:"prev-btn",onClick:function(){n((function(e){var n=e-1;return n<0&&(n=t.length-1),n}))},children:"\u524d\u4e00\u9801"}),t.map((function(e,t){if(c.includes(t))return Object(f.jsx)("button",{disabled:!(!s.includes(t)||0==t||1==t),className:"".concat(s.includes(t)&&0!=t&&1!=t?"points-btn":t==a?"page-btn page-active":"page-btn"," "),onClick:function(){return function(e){n(e)}(t)},children:s.includes(t)&&0!=t&&1!=t?"...":t+1},t+1)})),Object(f.jsx)("button",{type:"button",className:"next-btn",onClick:function(){n((function(e){var n=e+1;return n>t.length-1&&(n=0),n})),console.log("ButtonsPage",a)},children:"\u5f8c\u4e00\u9801"})]})};function w(){return Object(f.jsxs)("section",{className:"section about-section",children:[Object(f.jsx)("h1",{className:"section-title",children:"about us"}),Object(f.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae repudiandae architecto qui adipisci in officiis, aperiam sequi atque perferendis eos, autem maiores nisi saepe quisquam hic odio consectetur nobis veritatis quasi explicabo obcaecati doloremque? Placeat ratione hic aspernatur error blanditiis?"})]})}var T=function(){var e=Object(a.useState)({Address:{"\u5b9c\u862d\u5e02":!1,"\u7f85\u6771\u93ae":!1,"\u8607\u6fb3\u93ae":!1,"\u982d\u57ce\u93ae":!1,"\u7901\u6eaa\u9109":!1,"\u58ef\u570d\u9109":!1,"\u54e1\u5c71\u9109":!1,"\u51ac\u5c71\u9109":!1,"\u4e94\u7d50\u9109":!1,"\u4e09\u661f\u9109":!1,"\u5927\u540c\u9109":!1,"\u5357\u6fb3\u9109":!1},Class:{"\u6c11\u5bbf":!1,"\u4e00\u822c\u65c5\u9928":!1,"\u570b\u969b\u89c0\u5149\u65c5\u9928":!1}}),t=Object(r.a)(e,2),n=t[0],c=t[1],s={Address:[],Class:[]},i=Object(a.useState)(s),u=Object(r.a)(i,2),h=u[0],O=u[1],m=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)([]),h=Object(r.a)(u,2),O=h[0],f=h[1],x=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ptx.transportdata.tw/MOTC/v2/Tourism/Hotel/YilanCounty?$filter=length('Picture')%20gt%200&$format=JSON");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,l(n),f(b(n)),c(!1),console.log("data",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){x()}),[]),{loading:n,data:o,setData:l,pageData:O,setPageData:f}}(),g=m.loading,p=m.data,v=(m.setData,m.pageData),y=m.setPageData,C=Object(a.useState)(0),S=Object(r.a)(C,2),k=S[0],P=S[1],T=Object(a.useState)([]),q=Object(r.a)(T,2),F=q[0],E=q[1],I=Object(a.useState)([]),B=Object(r.a)(I,2),L=B[0],M=B[1];return Object(a.useEffect)((function(){E(A(p,h))}),[h]),Object(a.useEffect)((function(){y(b(F)),P(0),console.log("ApphotelsLength",F.length)}),[F]),Object(a.useEffect)((function(){g||M(v[k])}),[g,k,v]),console.log("hotelslength",F.length),Object(f.jsxs)(o.a,{basename:"/yilan-hotel",children:[Object(f.jsx)(x,{}),Object(f.jsxs)(l.c,{children:[Object(f.jsxs)(l.a,{exact:!0,path:"/yilan-hotel",children:[Object(f.jsx)(N,{options:n,setOptions:c,InitialTrueOptions:s,trueOptions:h,setTrueOptions:O,data:p,pageData:v,setPageData:y,hotels:F,setHotels:E,filteredHotels:L,setFilteredHotels:M,page:k,setPage:P}),Object(f.jsx)(D,{filteredHotels:L,hotels:F}),Object(f.jsx)(H,{loading:g,pageData:v,setPage:P,page:k})," "]}),Object(f.jsx)(l.a,{path:"/yilan-hotel/about",children:Object(f.jsx)(w,{})})]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(T,{})}),document.getElementById("root")),q()}},[[43,1,2]]]);
//# sourceMappingURL=main.7efd5ea1.chunk.js.map