(this.webpackJsonpyilanhotel=this.webpackJsonpyilanhotel||[]).push([[0],{32:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),s=n(22),i=n.n(s),r=(n(32),n(5)),o=n(15),l=n(3),u=n(18),j=n.n(u),b=n(23),d=function(t){var e=Math.ceil(t.length/24);return Array.from({length:e},(function(e,n){var a=24*n;return t.slice(a,a+24)}))},O=n(24),h=[{id:1,url:"/",text:"Home"},{id:2,url:"/about",text:"About"}],f=n(2),x=function(){var t=Object(a.useState)(!1),e=Object(r.a)(t,2),n=e[0],c=e[1],s=Object(a.useRef)(null),i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t=i.current.getBoundingClientRect().height;s.current.style.height=n?"".concat(t,"px"):"0px"}),[n]),Object(f.jsx)("nav",{children:Object(f.jsxs)("div",{className:"nav-center",children:[Object(f.jsxs)("div",{className:"nav-header",children:[Object(f.jsx)("div",{children:"we"}),Object(f.jsx)("button",{className:"nav-toggle",onClick:function(){c(!n)},children:Object(f.jsx)(O.a,{})})]}),Object(f.jsx)("div",{className:"links-container",ref:s,children:Object(f.jsx)("ul",{className:"links",ref:i,children:h.map((function(t){var e=t.id,n=t.url,a=t.text;return Object(f.jsx)("li",{children:Object(f.jsx)(o.b,{to:n,children:a})},e)}))})})]})})},m=n(21),g=n(11),p=n(8),v=[{id:1,text:"\u5b9c\u862d\u5e02",name:"yilan"},{id:2,text:"\u7f85\u6771\u93ae",name:"lotong"},{id:3,text:"\u8607\u6fb3\u93ae",name:"suao"},{id:4,text:"\u982d\u57ce\u93ae",name:"toucheng"},{id:5,text:"\u7901\u6eaa\u9109",name:"jiaosi"},{id:6,text:"\u58ef\u570d\u9109",name:"jhuangwei"},{id:7,text:"\u54e1\u5c71\u9109",name:"yuanshan"},{id:8,text:"\u51ac\u5c71\u9109",name:"dongshan"},{id:9,text:"\u4e94\u7d50\u9109",name:"wujie"},{id:10,text:"\u4e09\u661f\u9109",name:"sanshing"},{id:11,text:"\u5927\u540c\u9109",name:"datong"},{id:12,text:"\u5357\u6fb3\u9109",name:"nanao"}],y=[{id:1,text:"\u6c11\u5bbf",name:"bnb"},{id:2,text:"\u4e00\u822c\u65c5\u9928",name:"hotel"},{id:3,text:"\u570b\u969b\u89c0\u5149\u65c5\u9928",name:"villa"}],N=(n.p,function(t){var e=t.options,n=t.setOptions,c=t.trueOptions,s=t.setTrueOptions,i=t.InitialTrueOptions,o=(t.data,t.pageData,t.setPageData,t.hotels,t.setHotels,t.filteredHotels,t.setFilteredHotels,t.page,t.setPage,Object(a.useState)({districtState:!1,classState:!0})),l=Object(r.a)(o,2),u=l[0],j=l[1];console.log("mode",u.districtState);var b=function(){for(var t=Object.keys(u),e=function(){var t=a[n];j((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(g.a)({},t,!e[t]))}))},n=0,a=t;n<a.length;n++)e()},d=function(t,a){var c=t.target.dataset.name;n((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(g.a)({},a,Object(p.a)(Object(p.a)({},t[a]),{},Object(g.a)({},c,!t[a][c]))))})),console.log("name",c),console.log("uniclick",e)};return Object(f.jsx)("div",{className:"search-form",children:Object(f.jsxs)("div",{className:"search-container",children:[Object(f.jsxs)("div",{className:"btn-container",children:[Object(f.jsx)("button",{type:"button",className:"btn-mode ".concat(u.districtState?"btn-mode-active":null),"data-name":"districtState",onClick:b,children:"\u884c\u653f\u5340"}),Object(f.jsx)("button",{type:"button",className:"btn-mode ".concat(u.classState?"btn-mode-active":null),"data-name":"classState",onClick:b,children:"\u4f4f\u5bbf\u985e\u578b"})]}),u.districtState&&Object(f.jsx)("div",{className:"btn-container",children:v.map((function(t,n){var a=t.id,c=t.text,s=(t.name,Object.keys(e.Address));return Object(f.jsx)("button",{type:"button",className:"btn ".concat(e.Address[s[n]]?"active-btn":null),"data-name":c,onClick:function(t){return d(t,"Address")},children:c},a)}))}),u.classState&&Object(f.jsx)("div",{className:"btn-container",children:y.map((function(t,n){var a=t.id,c=t.text,s=(t.name,Object.keys(e.Class));return Object(f.jsx)("button",{type:"button",className:"btn ".concat(e.Class[s[n]]?"active-btn":null),"data-name":c,onClick:function(t){return d(t,"Class")},children:c},a)}))}),Object(f.jsx)("div",{className:"btn-container",children:Object(f.jsx)("button",{className:"btn",style:{},onClick:function(t){return function(t){console.log("handleSearch",e),s(i);var n=e.Address,a=e.Class,r=function(t){n[t]&&s((function(e){return Object(p.a)(Object(p.a)({},e),{},{Address:[].concat(Object(m.a)(e.Address),[t])})}))};for(var o in n)r(o);var l=function(t){a[t]&&s((function(e){return Object(p.a)(Object(p.a)({},e),{},{Class:[].concat(Object(m.a)(e.Class),[t])})}))};for(var u in a)l(u);console.log("trueOptions",c)}()},children:"\u641c\u5c0b\u5730\u9ede"})})]})})}),C=n.p+"static/media/yilantravel.99554afe.jpg",S=n(26),k=n(27),P=function(t){var e=t.ID,n=t.Name,a=t.Description,c=t.Address,s=t.Phone,i=t.WebsiteUrl,r=t.Picture,o=(t.Position,t.ParkingInfo);if(r)return Object(f.jsxs)("article",{className:"hotel-container",children:[Object(f.jsx)("img",{src:r.PictureUrl1||C,alt:n,className:"img-container"}),Object(f.jsxs)("div",{className:"hotel-footer",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("h4",{children:n}),Object(f.jsxs)("h4",{children:[Object(f.jsx)(S.a,{}),":",s]})]}),Object(f.jsxs)("h4",{children:[Object(f.jsx)(k.a,{}),":",c]}),Object(f.jsxs)("h4",{style:{color:"hsl(325, 62%, 57%)"},children:["".concat(a).substring(0,40),"..."]}),Object(f.jsx)("h4",{children:o}),Object(f.jsx)("h4",{style:{color:"hsl(360, 71%, 66%)"},children:Object(f.jsx)("a",{href:i,children:"\u5b98\u65b9\u7db2\u7ad9"})})]})]},e)},D=function(t){var e=t.filteredHotels,n=t.hotels;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h3",{style:{color:"hsl(125, 67%, 44%)"},children:["\u5171\u6709",n?n.length:0,"\u500b\u5730\u9ede"]}),Object(f.jsx)("div",{className:"list-container",children:e&&e.map((function(t){return Object(f.jsx)(P,Object(p.a)({},t))}))})]})},A=function(t,e){var n=Object.keys(e);return t.filter((function(t){return n.every((function(n){return!e[n].length||(Array.isArray(t[n])?t[n].some((function(t){return e[n].includes(t)})):e[n].some((function(e){return t[n].includes(e)})))}))}))},H=function(t){t.loading;var e=t.pageData,n=t.setPage,a=t.page,c=[0,1,a-3,a-2,a-1,a,a+1,a+2,a+3],s=[a-3,a+3];return Object(f.jsxs)("div",{className:"btn-container",children:[Object(f.jsx)("button",{type:"button",className:"prev-btn",onClick:function(){n((function(t){var n=t-1;return n<0&&(n=e.length-1),n}))},children:"\u524d\u4e00\u9801"}),e.map((function(t,e){if(c.includes(e))return Object(f.jsx)("button",{disabled:!(!s.includes(e)||0==e||1==e),className:"".concat(s.includes(e)&&0!=e&&1!=e?"points-btn":e==a?"page-btn page-active":"page-btn"," "),onClick:function(){return function(t){n(t)}(e)},children:s.includes(e)&&0!=e&&1!=e?"...":e+1},e+1)})),Object(f.jsx)("button",{type:"button",className:"next-btn",onClick:function(){n((function(t){var n=t+1;return n>e.length-1&&(n=0),n})),console.log("ButtonsPage",a)},children:"\u5f8c\u4e00\u9801"})]})};function w(){return Object(f.jsxs)("section",{className:"section about-section",children:[Object(f.jsx)("h1",{className:"section-title",children:"about us"}),Object(f.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae repudiandae architecto qui adipisci in officiis, aperiam sequi atque perferendis eos, autem maiores nisi saepe quisquam hic odio consectetur nobis veritatis quasi explicabo obcaecati doloremque? Placeat ratione hic aspernatur error blanditiis?"})]})}var T=function(){var t=Object(a.useState)({Address:{"\u5b9c\u862d\u5e02":!1,"\u7f85\u6771\u93ae":!1,"\u8607\u6fb3\u93ae":!1,"\u982d\u57ce\u93ae":!1,"\u7901\u6eaa\u9109":!1,"\u58ef\u570d\u9109":!1,"\u54e1\u5c71\u9109":!1,"\u51ac\u5c71\u9109":!1,"\u4e94\u7d50\u9109":!1,"\u4e09\u661f\u9109":!1,"\u5927\u540c\u9109":!1,"\u5357\u6fb3\u9109":!1},Class:{"\u6c11\u5bbf":!1,"\u4e00\u822c\u65c5\u9928":!1,"\u570b\u969b\u89c0\u5149\u65c5\u9928":!1}}),e=Object(r.a)(t,2),n=e[0],c=e[1],s={Address:[],Class:[]},i=Object(a.useState)(s),u=Object(r.a)(i,2),O=u[0],h=u[1],m=function(){var t=Object(a.useState)(!0),e=Object(r.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)([]),O=Object(r.a)(u,2),h=O[0],f=O[1],x=function(){var t=Object(b.a)(j.a.mark((function t(){var e,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://ptx.transportdata.tw/MOTC/v2/Tourism/Hotel/YilanCounty?$filter=length('Picture')%20gt%200&$format=JSON");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,l(n),f(d(n)),c(!1),console.log("data",n);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){x()}),[]),{loading:n,data:o,setData:l,pageData:h,setPageData:f}}(),g=m.loading,p=m.data,v=(m.setData,m.pageData),y=m.setPageData,C=Object(a.useState)(0),S=Object(r.a)(C,2),k=S[0],P=S[1],T=Object(a.useState)([]),q=Object(r.a)(T,2),F=q[0],E=q[1],I=Object(a.useState)([]),B=Object(r.a)(I,2),L=B[0],M=B[1];return Object(a.useEffect)((function(){E(A(p,O))}),[O]),Object(a.useEffect)((function(){y(d(F)),P(0),console.log("ApphotelsLength",F.length)}),[F]),Object(a.useEffect)((function(){g||M(v[k])}),[g,k,v]),console.log("hotelslength",F.length),Object(f.jsxs)(o.a,{basename:"/yilan-hotel",children:[Object(f.jsx)(x,{}),Object(f.jsxs)(l.c,{children:[Object(f.jsxs)(l.a,{exact:!0,path:"/",children:[Object(f.jsx)(N,{options:n,setOptions:c,InitialTrueOptions:s,trueOptions:O,setTrueOptions:h,data:p,pageData:v,setPageData:y,hotels:F,setHotels:E,filteredHotels:L,setFilteredHotels:M,page:k,setPage:P}),Object(f.jsx)(D,{filteredHotels:L,hotels:F}),Object(f.jsx)(H,{loading:g,pageData:v,setPage:P,page:k})]}),Object(f.jsx)(l.a,{path:"/about",children:Object(f.jsx)(w,{})})]})]})},q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),s(t),i(t)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(T,{})}),document.getElementById("root")),q()}},[[43,1,2]]]);
//# sourceMappingURL=main.e208953d.chunk.js.map